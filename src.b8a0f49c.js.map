{"version":3,"sources":["gallery-items.js","index.js"],"names":["preview","original","description","galleryContainer","document","querySelector","cardsMarkup","makePictureCardMarkup","pictures","map","join","onGalleryContainerClick","evt","preventDefault","target","classList","contains","onOpenLightbox","refs","lightboxImage","src","dataset","source","alt","console","log","insertAdjacentHTML","addEventListener","lightbox","closeLightboxBtn","window","onEscKeyPress","add","onCloseLightbox","removeEventListener","remove","onLightboxClick","code","switchImages","arrayImg","item","index","indexOf","length","setAttribute"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBA9DF,QAAA,QAAA;;ACqHd,aArHD,QAAA,oBAEA,IAAA,EAAA,EAAA,QAAA,uBAmHC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAjHD,MAAMC,EAAmBC,SAASC,cAAc,eAC1CC,EAAcC,EAAsBC,EAAD,SAKzC,SAASD,EAAsBC,GACpBA,OAAAA,EAASC,IAAI,EAAGT,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,oFAKlCD,iEAICD,2BACQC,mBACRC,oCAKNQ,KAAK,IAIZ,SAASC,EAAwBC,GAC7BA,EAAIC,iBAEmBD,EAAIE,OAAOC,UAAUC,SAAS,oBAOrDC,IAEAC,EAAKC,cAAcC,IAAMR,EAAIE,OAAOO,QAAQC,OAC5CJ,EAAKC,cAAcI,IAAMX,EAAIE,OAAOS,IAGrCC,QAAQC,IAAIb,EAAIE,SAxCnBX,EAAiBuB,mBAAmB,YAAapB,GACjDH,EAAiBwB,iBAAiB,QAAShB,GA+C3C,MAAMO,EAAO,CACTU,SAAUxB,SAASC,cAAc,gBACjCwB,iBAAkBzB,SAASC,cAAc,kCACzCc,cAAef,SAASC,cAAc,qBAK1C,SAASY,IACLa,OAAOH,iBAAiB,UAAWI,GACnCb,EAAKU,SAASb,UAAUiB,IAAI,WAKhC,SAASC,IACLH,OAAOI,oBAAoB,UAAWH,GACtCb,EAAKU,SAASb,UAAUoB,OAAO,WAC/BjB,EAAKC,cAAcC,IAAM,GACzBF,EAAKC,cAAcI,IAAM,GAO7B,SAASa,EAAgBxB,GACnBA,EAAIE,SAAWI,EAAKC,eAClBc,IAMR,SAASF,EAAcnB,GACF,WAAbA,EAAIyB,MACPJ,IA9BLf,EAAKC,cAAcQ,iBAAiB,QAASV,GAO7CC,EAAKW,iBAAiBF,iBAAiB,QAASM,GAWhDf,EAAKU,SAASD,iBAAiB,QAASS,GAiBxCN,OAAOH,iBAAiB,UAAWW,GAEnC,MAAMC,EAAW/B,EAASC,QAAAA,IAAK+B,GAASA,EAAKvC,UAE7C,SAASqC,EAAa1B,GACd6B,IAAAA,EAAQF,EAASG,QAAQxB,EAAKC,cAAcC,KAE/B,eAAbR,EAAIyB,OACAI,EAAQF,EAASI,OAAS,EAC1BzB,EAAKC,cAAcyB,aAAa,MAAOL,EAASE,EAAQ,KAExDA,GAAS,EACTvB,EAAKC,cAAcyB,aAAa,MAAOL,EAASE,EAAQ,MAG/C,cAAb7B,EAAIyB,OACU,IAAVI,GACAA,EAAQF,EAASI,OACjBzB,EAAKC,cAAcyB,aAAa,MAAOL,EAASE,EAAQ,KACrDvB,EAAKC,cAAcyB,aAAa,MAAOL,EAASE,EAAQ","file":"src.b8a0f49c.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];","import './sass/main.scss';\n\nimport pictures from './gallery-items.js';\n\nconst galleryContainer = document.querySelector('.js-gallery');\nconst cardsMarkup = makePictureCardMarkup(pictures);\n\ngalleryContainer.insertAdjacentHTML('beforeend', cardsMarkup);\ngalleryContainer.addEventListener('click', onGalleryContainerClick);\n\nfunction makePictureCardMarkup(pictures) {\n    return pictures.map(({ preview, original, description }) => {\n        return `\n   <li class=\"gallery__item\">\n  <a\n    class=\"gallery__link\"\n    href=\"${original}\"  \n  >\n    <img\n      class=\"gallery__image\"\n      src=\"${preview}\" \n      data-source=\"${original}\" \n      alt=\"${description}\" \n    />\n  </a>\n</li>\n    `;\n    }).join('');\n\n}\n\nfunction onGalleryContainerClick(evt) {\n    evt.preventDefault();\n\n    const isGalleryImage = evt.target.classList.contains('gallery__image');\n\n    if (!isGalleryImage) {\n        return;\n    }\n\n    // функция открытия модалки\n    onOpenLightbox();\n\n    refs.lightboxImage.src = evt.target.dataset.source;\n    refs.lightboxImage.alt = evt.target.alt;\n\n\n   console.log(evt.target);\n}\n\n/* \nМодальное окно для полноразмерного изображения\n      Для того чтобы открыть, необходимо добавить на div.lightbox CSS-класс is-open\n*/\n\nconst refs = {\n    lightbox: document.querySelector('.js-lightbox'),\n    closeLightboxBtn: document.querySelector('[data-action=\"close-lightbox\"]'),\n    lightboxImage: document.querySelector('.lightbox__image'),\n}\n\nrefs.lightboxImage.addEventListener('click', onOpenLightbox);\n\nfunction onOpenLightbox() {\n    window.addEventListener('keydown', onEscKeyPress);    \n    refs.lightbox.classList.add('is-open');    \n}\n\nrefs.closeLightboxBtn.addEventListener('click', onCloseLightbox);\n\nfunction onCloseLightbox() {\n    window.removeEventListener('keydown', onEscKeyPress);\n    refs.lightbox.classList.remove('is-open');\n    refs.lightboxImage.src = \"\";\n    refs.lightboxImage.alt = \"\";\n}\n\n//Закрытие модального окна по клику на div.lightbox__overlay.\n\nrefs.lightbox.addEventListener('click', onLightboxClick);\n\nfunction onLightboxClick(evt) {\n  if (evt.target !== refs.lightboxImage) {\n        onCloseLightbox();\n    }    \n}\n\n// Закрытие модального окна по нажатию клавиши ESC\n\nfunction onEscKeyPress(evt) {\n    if (evt.code === 'Escape') {\n     onCloseLightbox();   \n    }    \n}\n\n// Пролистывание изображений галереи в открытом модальном окне клавишами \"влево\" и \"вправо\"\nwindow.addEventListener('keydown', switchImages);\n\nconst arrayImg = pictures.map((item) => item.original); \n    \nfunction switchImages(evt) {\n    let index = arrayImg.indexOf(refs.lightboxImage.src);\n    \n    if (evt.code === 'ArrowRight') {\n        if (index < arrayImg.length - 1) {\n            refs.lightboxImage.setAttribute(\"src\", arrayImg[index + 1]);\n        } else {\n            index = -1;\n            refs.lightboxImage.setAttribute(\"src\", arrayImg[index + 1]);\n        }\n    }\n    if (evt.code === 'ArrowLeft') {\n        if (index === 0) {\n            index = arrayImg.length;\n            refs.lightboxImage.setAttribute(\"src\", arrayImg[index - 1]);\n        } else refs.lightboxImage.setAttribute(\"src\", arrayImg[index - 1]);\n    }\n}"]}